<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Your Community Engagement Progress</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;600;800&display=swap" rel="stylesheet">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">


    <link rel="stylesheet" href="styles.css">
    <style>
        .progress-container {
            max-width: 600px;
            margin: 40px auto;
        }

        .progress {
            height: 28px;
            border-radius: 14px;
            background: #e0e0e0;


            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        .progress-bar {
                    width: 0%;
                    font-weight: 600;
                    color: #fff;
                    display: flex;
            
                    align-items: center;


            justify-content: center;
            background: linear-gradient(90deg, #85e085, #28a745);
            box-shadow: 0 0 8px rgba(40, 167, 69, 0.6);
            transition: width 1.5s ease, box-shadow 0.5s ease;
        }

        .progress-bar.goal-achieved {
            animation: glowBounce 1s ease forwards;
        }

        @keyframes glowBounce {
            0% { transform: scaleX(1) scaleY(1); box-shadow: 0 0 8px rgba(40, 167, 69, 0.6); }
                50% { transform: scaleX(1.05) scaleY(1.1); box-shadow: 0 0 20px rgba(40, 167, 69, 0.9); }
                    100% { transform: scaleX(1) scaleY(1); box-shadow: 0 0 12px rgba(40, 167, 69, 0.7); }
        }

        .encourage {
            font-weight: 600;
                    color: #2a7a2a;
                    font-size: 1.1rem;
                    margin-top: 10px;
                    opacity: 0;
                    animation: fadeInUp 0.7s forwards;
        }



        @keyframes fadeInUp {
            from {opacity:0; transform: translateY(20px);}

            to {opacity:1; transform: translateY(0);}
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg soft-green">
    <div class="container-fluid">
        <span class="navbar-brand fw-bold">Riverside Meadows</span>
        <div class="ms-auto d-flex gap-2">
            <a href="index.html" class="btn btn-sm btn-outline-dark">‚Üê Back to Home</a>
        </div>
    </div>
</nav>

<section class="progress-container">
    <h1 class="text-center mb-4">Your Community Engagement Progress</h1>

    <div class="mb-4">
        <h5>ü§ñ ResBot Usage</h5>
        <div class="progress">
            <div id="resBotProgress" class="progress-bar" role="progressbar">0/5</div>
        </div>
        <div id="resBotEncourage" class="encourage"></div>
    </div>

    <div class="mb-4">
        <h5>‚ûï Resource Requests Submitted</h5>
        <div class="progress">
            <div id="requestProgress" class="progress-bar" role="progressbar">0/5</div>
        </div>
        <div id="requestEncourage" class="encourage"></div>
    </div>
</section>

            <script>
                const progress = JSON.parse(localStorage.getItem("progress")) || { resBotUses: 0, requestsSubmitted: 0 };

                const resBotGoal = 5; const requestGoal = 5;

                const resBotBar = document.getElementById("resBotProgress");
                
                
                const requestBar = document.getElementById("requestProgress");

                const resBotEncourage = document.getElementById("resBotEncourage");
                const requestEncourage = document.getElementById("requestEncourage");

                function updateProgress() {
                            const resBotPercent = Math.min((progress.resBotUses / resBotGoal) * 100, 100);
                    const requestPercent = Math.min((progress.requestsSubmitted / requestGoal) * 100, 100);

                    resBotBar.style.width = resBotPercent + "%";
                    resBotBar.textContent = `${progress.resBotUses}/${resBotGoal}`;

                            requestBar.style.width = requestPercent + "%";
                    requestBar.textContent = `${progress.requestsSubmitted}/${requestGoal}`;


                    



                    if(progress.resBotUses < resBotGoal) resBotEncourage.textContent = "Use ResBot more to discover more resources!";
                    else {
                        resBotEncourage.textContent = "üéâ Great! You've fully explored ResBot!";
                                resBotBar.classList.add("goal-achieved");
                    }

                    if(progress.requestsSubmitted < requestGoal) requestEncourage.textContent = "Submit more resource requests to help your community!";
                    else {
                                requestEncourage.textContent = "üéâ Amazing! You've given lots of new resources!";
                                requestBar.classList.add("goal-achieved");
                    }
                }
                window.addEventListener("load", () => {
                            setTimeout(updateProgress, 100);
                        });
            </script>
</body>
    </html>
